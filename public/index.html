<html>
  <head>
    <title>Filler Clients</title>
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script type="text/javascript" src="js/jquery-2.0.3.min.js"></script>
    <script type="text/javascript" src="js/handlebars.js"></script>
    <script type="text/javascript" src="js/clients.js"></script>
    <script type="text/javascript" src="js/geolocation.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true"></script>
  </head>
  <body>
    <header class="header">
      <h1>Filler Clients</h1>
    </header>

    <main>
      <section id="location">
        
      </section>
      <section id="clients">
        <nav>
          <a class="selected" data-status="current">Current</a>&nbsp;|
          <a class="" data-status="potential">Potential</a>
        </nav>
        <h2>Nearby Clients</h2>
        <div id="clients_container">
          <!-- 
            Do not put the handlebars template in here
            If you do, it will be removed with the first load
          -->
        </div>
      </section>

      <script id="clients-template" type="text/x-handlebars-template">
        <ul>
          {{#each clients}}
            <li class="{{../status}}">
              <h3>{{name}}</h3>
              <article>
                <div>
                  <p class="reps">
                    {{reps}}
                  </p>
                  <p class="notes">
                    {{notes}}
                  </p>
                </div>
                <aside>
                  <p class="address">
                    {{address}}
                  </p>
                  <p class="phone">
                    <a>{{phone}}</a>
                  </p>
                </aside>
              </article>
            </li>
          {{/each}}
        </ul>
      </script>
    </main>

    <footer>
      Built by the team that imagines a better world and works towards it
    </footer>

    <script type="text/javascript">
      $(function() {
        get_location();

        fetchClients();

        $('nav a').click(function() {
          $('nav a.selected').removeClass('selected');
          $(this).addClass('selected');
          fetchClients();
        });
      });
      
      // Same as
      // $(document).ready(function() { loadClients(); });
    </script>
  </body>

</html>